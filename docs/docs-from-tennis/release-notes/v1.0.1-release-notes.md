# Version 1.0.1 Release Notes

## Release Date: January 2025

## Overview
This release prepares Play Serve for App Store submission with critical bug fixes, improved challenge management, and simplified authentication for initial launch.

## üéØ Major Changes

### 1. Challenge Management System Enhancement
- **Added pending challenge tracking**: Challenge buttons now show "Pending" status for players who have already been challenged
- **Implemented comprehensive challenge visibility**: New "Active Challenges" section in club detail page with tabs for sent and received challenges
- **Smart button state management**: Challenge buttons automatically disable/enable based on challenge status (pending, accepted, declined, expired)
- **7-day expiration**: Challenges automatically expire after 7 days if not responded to

### 2. Push Notifications Configuration
- **Enabled push notifications support**: Added proper entitlements and configuration for Apple Push Notification service (APNs)
- **Updated app.json**: Added `aps-environment: production` and `UIBackgroundModes: ["remote-notification"]`
- **Configured EAS for push**: Set up proper credentials for push notification delivery

### 3. Apple Sign In Temporarily Disabled
- **Simplified authentication for v1.0**: Removed Apple Sign In to focus on email/password authentication
- **Reduced complexity**: Fewer authentication methods means simpler App Store review process
- **Code preserved**: Implementation commented out for easy re-enabling in future updates

### 4. TypeScript Error Fixes
- **Fixed 200+ TypeScript compilation errors**: Resolved critical type issues blocking production build
- **Icon name corrections**: Changed "tennis-ball" to "tennisball" throughout the app
- **Profile photo field**: Added missing profile_photo_uri to ProfileData type
- **Router imports**: Fixed missing expo-router imports in multiple components

### 5. App Store Configuration
- **Version bumped to 1.0.1**: Updated from 1.0.0 to include push notification support
- **Build number incremented to 2**: Required for new App Store submission
- **API credentials configured**: Set up App Store Connect API key for automated submission

## üì± New Components

### ClubChallenges Component
- Displays all active challenges for a club
- Two-tab interface for sent and received challenges
- Shows challenge details: player name, match type, proposed timing, custom messages
- Accept/Decline buttons for received challenges
- Pending status badges for sent challenges

## üêõ Bug Fixes
- Fixed challenge button remaining enabled after sending a challenge
- Resolved date-fns module dependency issue by using native JavaScript date formatting
- Fixed various TypeScript type mismatches and undefined references
- Corrected Apple Authentication Button disabled prop issue

## üîß Technical Improvements
- Improved challenge service to track pending challenges per user
- Added loadPendingChallenges function to club detail screen
- Enhanced state management for challenge-related UI components
- Removed unnecessary external dependencies (date-fns)

## üìã Configuration Changes

### app.json
```json
{
  "version": "1.0.1",
  "ios": {
    "buildNumber": "2",
    "usesAppleSignIn": false,
    "entitlements": {
      "aps-environment": "production"
    },
    "infoPlist": {
      "UIBackgroundModes": ["remote-notification"]
    }
  }
}
```

### eas.json
```json
{
  "submit": {
    "production": {
      "ios": {
        "ascApiKeyPath": "./ios/certs/ApiKey_7NWYQCHQCYLP.p8",
        "ascApiKeyId": "7NWYQCHQCYLP",
        "ascApiKeyIssuerId": "60bd8b50-d518-47f4-8253-26d2875328f0"
      }
    }
  }
}
```

## üöÄ Deployment Notes

### App Store Submission Strategy
1. Version 1.0.0 (build 1) - Submitted to TestFlight without push notifications
2. Version 1.0.1 (build 2) - Production release with push notifications enabled

### Authentication Strategy
- **v1.0.x**: Email/password authentication only
- **v1.1.x** (future): Re-enable Apple Sign In after thorough testing
- **v1.2.x** (future): Consider additional authentication methods

## üìù Known Issues
- Network request failures in Expo Go (non-critical, related to development environment)
- Push notifications require development build (not available in Expo Go)

## üîÆ Future Enhancements (v1.1+)
- Re-enable Apple Sign In authentication
- Add challenge counter-proposals
- Implement challenge history view
- Add push notification preferences
- Enhanced club discovery features

## üìä Stats
- **Files Modified**: 15+
- **Lines Changed**: 1000+
- **TypeScript Errors Fixed**: 200+
- **New Features**: 3
- **Bug Fixes**: 10+

---

## Developer Notes
All changes have been tested locally. Apple Sign In code is preserved but commented out for easy re-enabling. Challenge management system is fully functional with proper state management and UI feedback.